@model List<InventoryManagementSystem2.Models.EmployeeViewModel>

@{
    ViewData["Title"] = "Employees";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin-dashboard.css" />
}

<div class="dashboard-container">
    <aside class="sidebar">
        <div class="sidebar-header">Inventory</div>
        <nav class="sidebar-nav">
            <a href="@Url.Action("Index", "Admin")" class="nav-item">Dashboard</a>
            <a href="@Url.Action("Employees", "Admin")" class="nav-item active">Employees</a>
            <a href="@Url.Action("Purchase", "Admin")" class="nav-item">Category</a>
            <a href="@Url.Action("Stock", "Admin")" class="nav-item">Stock</a>
            <a href="@Url.Action("Menu", "Admin")" class="nav-item">Menu</a>
            <a href="@Url.Action("OrderList", "Admin")" class="nav-item">Order List</a>
        </nav>
        <a href="/Authenticator/Logout" class="logout-btn">Log out</a>
    </aside>

    <main class="main-content">
        <div class="top-bar">
            <span class="greeting">Hello, Salvo!</span>
        </div>

        <div class="tables-row">
            <div class="table-box">
                <div class="table-header">Employees</div>
                <table>
                    <thead>
                        <tr>
                            <th>UserID</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Status</th>
                            <th>Role</th>
                            <th>Last Login</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var employee in Model)
                        {
                            <tr data-userid="@employee.UserId">
                                <td>@employee.UserId</td>
                                <td class="editable-first">@employee.FirstName</td>
                                <td class="editable-last">@employee.LastName</td>
                                <td class="emp-status">@employee.Status</td>
                                <td class="emp-role">@employee.Role</td>
                                <td>@employee.LastLogin.ToString("MM-dd-yy")</td>
                                <td class="emp-actions">
                                    <button class="edit-btn btn btn-primary btn-sm">Edit</button>
                                    <button class="delete-btn btn btn-danger btn-sm">Delete</button>
                                    <button class="finish-btn btn btn-success btn-sm d-none">Finish</button>
                                    <button class="discard-btn btn btn-secondary btn-sm d-none">Discard</button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>

<!-- Popup Message -->
<div id="popup-message" class="popup-message d-none">
    <p id="popup-text"></p>
    <div class="confirmation-buttons">
        <button id="confirm-action" class="btn btn-success">Yes</button>
        <button id="cancel-action" class="btn btn-danger">No</button>
    </div>
</div>

<!-- Delete Modal (just for confirmation) -->
<div id="delete-modal" class="modal d-none">
    <div class="modal-content">
        <p>Are you sure you want to delete this employee?</p>
        <button id="confirm-delete" class="btn btn-danger">Yes</button>
        <button id="cancel-delete" class="btn btn-secondary">No</button>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery -->
    <script src="~/js/AdminJavascript.js"></script> <!-- Your custom JS -->
}
